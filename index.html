<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>‡∏ô‡πâ‡∏≥‡∏õ‡∏±‡πà‡∏ô‡∏ï‡∏•‡∏≤‡∏î‡πÇ‡∏ï‡πâ‡∏£‡∏∏‡πà‡∏á</title>
  <style>
    body { font-family: sans-serif; padding: 20px; max-width: 400px; margin: auto; }
    h1 { color: #4CAF50; }
    label { font-weight: bold; }
    textarea, input[type="text"], select { width: 100%; padding: 6px; margin-bottom: 12px; }
    button { padding: 10px 20px; background-color: #4CAF50; color: white; border: none; border-radius: 4px; cursor: pointer; }
    button:hover { background-color: #45a049; }
  </style>
</head>
<body>
  <h1>üßã ‡∏ô‡πâ‡∏≥‡∏õ‡∏±‡πà‡∏ô‡∏ï‡∏•‡∏≤‡∏î‡πÇ‡∏ï‡πâ‡∏£‡∏∏‡πà‡∏á</h1>
  <form id="order-form">
    <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π:</label>
    <select name="item" required>
      <option>‡∏ô‡πâ‡∏≥‡∏™‡πâ‡∏°‡∏õ‡∏±‡πà‡∏ô</option>
      <option>‡∏ô‡πâ‡∏≥‡πÅ‡∏ï‡∏á‡πÇ‡∏°‡∏õ‡∏±‡πà‡∏ô</option>
      <option>‡∏ô‡πâ‡∏≥‡∏°‡∏∞‡∏ô‡∏≤‡∏ß‡∏õ‡∏±‡πà‡∏ô</option>
      <option>‡∏ô‡πâ‡∏≥‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î‡∏õ‡∏±‡πà‡∏ô</option>
      <option>‡∏ô‡πâ‡∏≥‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏õ‡∏±‡πà‡∏ô</option>
    </select>

    <label>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏ô:</label><br>
    <input type="radio" name="sweet" value="‡πÑ‡∏°‡πà‡∏´‡∏ß‡∏≤‡∏ô" required> ‡πÑ‡∏°‡πà‡∏´‡∏ß‡∏≤‡∏ô<br>
    <input type="radio" name="sweet" value="‡∏´‡∏ß‡∏≤‡∏ô‡∏ô‡πâ‡∏≠‡∏¢"> ‡∏´‡∏ß‡∏≤‡∏ô‡∏ô‡πâ‡∏≠‡∏¢<br>
    <input type="radio" name="sweet" value="‡∏´‡∏ß‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á"> ‡∏´‡∏ß‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á<br>
    <input type="radio" name="sweet" value="‡∏´‡∏ß‡∏≤‡∏ô‡∏°‡∏≤‡∏Å"> ‡∏´‡∏ß‡∏≤‡∏ô‡∏°‡∏≤‡∏Å<br><br>

    <label>‡∏ó‡πâ‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á:</label><br>
    <input type="checkbox" name="topping" value="‡∏ô‡∏°"> ‡∏ô‡∏°<br><br>

    <label>‡∏ä‡∏∑‡πà‡∏≠:</label>
    <input type="text" name="name" required><br>

    <label>‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°:</label><br>
    <textarea name="note" rows="3" placeholder="‡πÄ‡∏ä‡πà‡∏ô ‡πÑ‡∏°‡πà‡πÉ‡∏™‡πà‡∏ô‡πâ‡∏≥‡πÅ‡∏Ç‡πá‡∏á ‡∏´‡∏£‡∏∑‡∏≠ ‡πÉ‡∏™‡πà‡∏´‡∏•‡∏≠‡∏î 2 ‡∏≠‡∏±‡∏ô"></textarea><br>

    <button type="submit">‡∏™‡∏±‡πà‡∏á‡∏ô‡πâ‡∏≥</button>
  </form>

  <script>
    document.getElementById('order-form').addEventListener('submit', async function (e) {
      e.preventDefault();
      const form = e.target;

      const order = {
        name: form.name.value,
        item: form.item.value,
        sweet: form.querySelector('input[name="sweet"]:checked')?.value || '',
        topping: form.querySelector('input[name="topping"]:checked')?.value || '',
        note: form.note.value,
        timestamp: new Date().toLocaleTimeString()
      };

      const res = await fetch('/api/order', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(order)
      });

      if (res.ok) {
        alert("‡πÄ‡∏£‡∏≤‡πÑ‡∏î‡πâ‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á‡∏ã‡∏∑‡πâ‡∏≠‡πÅ‡∏•‡πâ‡∏ß ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏£‡∏≠‡∏™‡∏±‡∏Å‡∏Ñ‡∏£‡∏π‡πà ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏™‡∏£‡πá‡∏à‡πÅ‡∏•‡πâ‡∏ß ‡πÄ‡∏£‡∏≤‡∏à‡∏∞‡πÅ‡∏à‡πâ‡∏á‡∏•‡∏π‡∏Å‡∏Ñ‡πâ‡∏≤‡∏ó‡∏≤‡∏á‡πÑ‡∏•‡∏ô‡πå ‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏Ñ‡∏£‡∏±‡∏ö");
        form.reset();
      } else {
        alert("‡∏™‡πà‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏±‡∏ö");
      }
    });
  </script>
</body>
</html>
