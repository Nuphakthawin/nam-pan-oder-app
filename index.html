<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>‡∏ô‡πâ‡∏≥‡∏õ‡∏±‡πà‡∏ô‡∏ï‡∏•‡∏≤‡∏î‡πÇ‡∏ï‡πâ‡∏£‡∏∏‡πà‡∏á</title>
</head>
<body>
  <h1>üçπ ‡∏ô‡πâ‡∏≥‡∏õ‡∏±‡πà‡∏ô‡∏ï‡∏•‡∏≤‡∏î‡πÇ‡∏ï‡πâ‡∏£‡∏∏‡πà‡∏á</h1>
  <form id="order-form">
    <label>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏°‡∏ô‡∏π:</label>
    <select id="item">
      <option value="‡∏ô‡πâ‡∏≥‡∏™‡πâ‡∏°‡∏õ‡∏±‡πà‡∏ô">‡∏ô‡πâ‡∏≥‡∏™‡πâ‡∏°‡∏õ‡∏±‡πà‡∏ô</option>
      <option value="‡∏ô‡πâ‡∏≥‡πÅ‡∏ï‡∏á‡πÇ‡∏°‡∏õ‡∏±‡πà‡∏ô">‡∏ô‡πâ‡∏≥‡πÅ‡∏ï‡∏á‡πÇ‡∏°‡∏õ‡∏±‡πà‡∏ô</option>
      <option value="‡∏ô‡πâ‡∏≥‡∏°‡∏∞‡∏ô‡∏≤‡∏ß‡∏õ‡∏±‡πà‡∏ô">‡∏ô‡πâ‡∏≥‡∏°‡∏∞‡∏ô‡∏≤‡∏ß‡∏õ‡∏±‡πà‡∏ô</option>
      <option value="‡∏ô‡πâ‡∏≥‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î‡∏õ‡∏±‡πà‡∏ô">‡∏ô‡πâ‡∏≥‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î‡∏õ‡∏±‡πà‡∏ô</option>
      <option value="‡∏ô‡πâ‡∏≥‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏õ‡∏±‡πà‡∏ô">‡∏ô‡πâ‡∏≥‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏õ‡∏±‡πà‡∏ô</option>
    </select><br><br>

    <label>‡∏£‡∏∞‡∏î‡∏±‡∏ö‡∏Ñ‡∏ß‡∏≤‡∏°‡∏´‡∏ß‡∏≤‡∏ô:</label><br>
    <input type="radio" name="sweet" value="‡πÑ‡∏°‡πà‡∏´‡∏ß‡∏≤‡∏ô" required> ‡πÑ‡∏°‡πà‡∏´‡∏ß‡∏≤‡∏ô<br>
    <input type="radio" name="sweet" value="‡∏´‡∏ß‡∏≤‡∏ô‡∏ô‡πâ‡∏≠‡∏¢"> ‡∏´‡∏ß‡∏≤‡∏ô‡∏ô‡πâ‡∏≠‡∏¢<br>
    <input type="radio" name="sweet" value="‡∏´‡∏ß‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á"> ‡∏´‡∏ß‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á<br>
    <input type="radio" name="sweet" value="‡∏´‡∏ß‡∏≤‡∏ô‡∏°‡∏≤‡∏Å"> ‡∏´‡∏ß‡∏≤‡∏ô‡∏°‡∏≤‡∏Å<br><br>

    <label>‡∏ó‡πâ‡∏≠‡∏õ‡∏õ‡∏¥‡πâ‡∏á:</label>
    <input type="checkbox" id="topping" value="‡∏ô‡∏°"> ‡∏ô‡∏°<br><br>

    <label>‡∏ä‡∏∑‡πà‡∏≠:</label>
    <input type="text" id="name" required><br><br>

    <button type="submit">‡∏™‡∏±‡πà‡∏á‡∏ô‡πâ‡∏≥</button>
  </form>

  <p id="thanks-message" style="display:none;">‡∏Ç‡∏≠‡∏ö‡∏Ñ‡∏∏‡∏ì‡∏ó‡∏µ‡πà‡∏≠‡∏∏‡∏î‡∏´‡∏ô‡∏∏‡∏ô‡∏Ñ‡∏£‡∏±‡∏ö‡∏ú‡∏° üôè</p>

  <script>
    document.getElementById("order-form").addEventListener("submit", async (e) => {
      e.preventDefault();

      const name = document.getElementById("name").value;
      const item = document.getElementById("item").value;
      const sweet = document.querySelector('input[name="sweet"]:checked').value;
      const topping = document.getElementById("topping").checked ? "‡∏ô‡∏°" : "‡πÑ‡∏°‡πà‡∏°‡∏µ";
      const timestamp = new Date().toISOString();

      const res = await fetch("/api/order", {
        method: "POST",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify({ name, item, sweet, topping, timestamp }),
      });

      if (res.ok) {
        document.getElementById("thanks-message").style.display = "block";
        document.getElementById("order-form").reset();
      } else {
        alert("‡∏™‡πà‡∏á‡∏≠‡∏≠‡πÄ‡∏î‡∏≠‡∏£‡πå‡πÑ‡∏°‡πà‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à ‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡∏•‡∏≠‡∏á‡πÉ‡∏´‡∏°‡πà‡∏≠‡∏µ‡∏Å‡∏Ñ‡∏£‡∏±‡πâ‡∏á‡∏Ñ‡∏£‡∏±‡∏ö");
      }
    });
  </script>
</body>
</html>
